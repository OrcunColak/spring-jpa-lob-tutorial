CREATE TABLE books
(
  id BIGINT GENERATED BY DEFAULT AS IDENTITY,
  title VARCHAR(255),
  PRIMARY KEY (id)
);

CREATE TABLE book_contents
(
  id BIGINT GENERATED BY DEFAULT AS IDENTITY,
  content CLOB,
  book_id BIGINT,
  PRIMARY KEY (id)
);

ALTER TABLE IF EXISTS book_contents DROP CONSTRAINT IF EXISTS book_id_unique;
ALTER TABLE IF EXISTS book_contents ADD CONSTRAINT book_id_unique UNIQUE (book_id);

ALTER TABLE IF EXISTS book_contents ADD CONSTRAINT book_id_fk FOREIGN KEY (book_id) REFERENCES books;